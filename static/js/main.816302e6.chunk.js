(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{274:function(e,t,n){},275:function(e,t,n){"use strict";n.r(t);var r,a,c,i,o,d,l,s,m,h,j,u,b,x,p=n(0),O=n.n(p),f=n(40),g=n.n(f),y=n(10),v=n.n(y),w=n(21),C=n(18),k=n(29),_=n(12),q=n(115),T=new(n.n(q).a)("pk_309736f5dd72676492d1d8b527649d4cde2b5a3aa686e",!0),S=n(295),E=n(296),N=n(297),A=n(75),z=n.n(A),B=n(14),F=n(15),R=n(305),I=n(291),Q=n(293),Y=n(294),M=Object(F.a)(I.a)(r||(r=Object(B.a)(["\n  margin-bottom: 25px;\n"]))),L=Object(F.a)(Q.a)(a||(a=Object(B.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  color: #fff;\n  text-decoration: none;\n"]))),U=F.a.img(c||(c=Object(B.a)(["\n  width: 70px;\n"]))),D=Object(R.a)({root:{marginLeft:15,flexGrow:1}})(Y.a),P=Object(F.a)(k.b)(i||(i=Object(B.a)(["\n  color: inherit;\n"]))),W=n.p+"static/media/logo.8cbee1ca.svg",G=n(2),J=function(e){var t=e.cartQnt;return Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(M,{position:"sticky",children:Object(G.jsx)(S.a,{maxWidth:"lg",children:Object(G.jsxs)(L,{children:[Object(G.jsx)(k.b,{to:"/",children:Object(G.jsx)(U,{src:W,alt:"logo"})}),Object(G.jsx)(D,{variant:"h6",children:"E-commerce"}),Object(G.jsx)(P,{to:"/cart",children:Object(G.jsx)(E.a,{color:"inherit",children:t?Object(G.jsx)(N.a,{badgeContent:t,color:"secondary",children:Object(G.jsx)(z.a,{})}):Object(G.jsx)(N.a,{badgeContent:0,color:"secondary",children:Object(G.jsx)(z.a,{})})})})]})})})})},V=n(304),H=n(298),Z=n(299),$=n(300),K=n(301),X=n(302),ee=n(303),te=F.a.div(o||(o=Object(B.a)(["\n  display: flex;\n  align-items: center;\n"]))),ne=function(e){var t=e.item,n=e.handleUpdateCartQty,r=e.handleRemoveFromCart;return Object(G.jsxs)(H.a,{children:[Object(G.jsx)(Z.a,{component:"img",alt:t.name,height:"200",image:t.media.source,title:t.name}),Object(G.jsx)($.a,{children:Object(G.jsxs)(K.a,{children:[Object(G.jsx)(Y.a,{variant:"h6",align:"center",children:t.name}),Object(G.jsx)(Y.a,{variant:"h6",align:"center",children:t.line_total.formatted_with_symbol})]})}),Object(G.jsxs)(X.a,{children:[Object(G.jsxs)(te,{children:[Object(G.jsx)(ee.a,{type:"button",size:"small",onClick:function(){return n(t.id,t.quantity-1)},children:"-"}),Object(G.jsx)(Y.a,{children:t.quantity}),Object(G.jsx)(ee.a,{type:"button",size:"small",onClick:function(){return n(t.id,t.quantity+1)},children:"+"})]}),Object(G.jsx)(ee.a,{variant:"contained",type:"button",color:"secondary",onClick:function(){return r(t.id)},children:"Remove"})]})]})},re=n(5),ae=Object(re.a)({root:{display:"grid",gridGap:20},"@media (min-width: 400px)":{root:{paddingLeft:30,paddingRight:30}},"@media (min-width: 500px)":{root:{gridTemplateColumns:"repeat(2, 1fr)"}},"@media (min-width: 750px)":{root:{gridTemplateColumns:"repeat(3, 1fr)"}},"@media (min-width: 1050px)":{root:{gridTemplateColumns:"repeat(4, 1fr)"}}})(S.a),ce=Object(re.a)({root:{display:"flex",justifyContent:"center",alignItems:"center",height:"90vh"}})(S.a),ie=Object(R.a)({root:{width:170,height:50,marginBottom:20}})(ee.a),oe=F.a.div(d||(d=Object(B.a)(["\n  display: grid;\n  gap: 20px;\n  margin-bottom: 50px;\n\n  @media (min-width: 500px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  @media (min-width: 750px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n  @media (min-width: 1050px) {\n    grid-template-columns: repeat(4, 1fr);\n  }\n"]))),de=F.a.div(l||(l=Object(B.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-direction: column;\n  width: ",";\n\n  @media (min-width: 750px) {\n    flex-direction: row;\n  }\n"])),(function(e){return e.divWidth&&"360px"})),le=function(e){var t=e.cart,n=e.handleUpdateCartQty,r=e.handleRemoveFromCart,a=e.handleEmptyCart,c=t.line_items;return c?c.length>0?Object(G.jsxs)(S.a,{children:[Object(G.jsx)(Y.a,{variant:"h4",gutterBottom:!0,children:"Your Shopping Cart"}),Object(G.jsx)(oe,{children:c.map((function(e){return Object(G.jsx)(ne,{item:e,handleUpdateCartQty:n,handleRemoveFromCart:r},e.name)}))}),Object(G.jsxs)(de,{children:[Object(G.jsxs)(Y.a,{variant:"h4",gutterBottom:!0,children:["Subtotal: ",t.subtotal.formatted_with_symbol]}),Object(G.jsxs)(de,{divWidth:!0,children:[Object(G.jsx)(ie,{variant:"contained",color:"secondary",size:"medium",onClick:function(){return a()},children:"Empty cart"}),Object(G.jsx)(ie,{variant:"contained",color:"primary",size:"medium",component:k.b,to:"/checkout",children:"Checkout"})]})]})]}):Object(G.jsx)(S.a,{children:Object(G.jsx)(Y.a,{variant:"h5",align:"center",children:"You have no items in your shopping cart, start adding some!"})}):Object(G.jsx)(ce,{children:Object(G.jsx)(V.a,{size:80})})},se=Object(F.a)(H.a)(s||(s=Object(B.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),me=Object(F.a)($.a)(m||(m=Object(B.a)(["\n  flex-grow: 1;\n"]))),he=Object(R.a)({root:{margin:"0 auto"}})(ee.a),je=function(e){var t=e.product,n=e.handleAddToCart;return Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)(se,{children:[Object(G.jsx)(Z.a,{component:"img",alt:t.name,height:"200",image:t.media.source,title:t.name}),Object(G.jsx)(me,{children:Object(G.jsxs)(K.a,{children:[Object(G.jsx)(Y.a,{variant:"h5",component:"h2",gutterBottom:!0,children:t.name}),Object(G.jsx)(Y.a,{dangerouslySetInnerHTML:{__html:t.description},variant:"body2",color:"textSecondary",gutterBottom:!0}),Object(G.jsx)(Y.a,{variant:"h6",children:t.price.formatted_with_symbol})]})}),Object(G.jsx)(X.a,{children:Object(G.jsx)(he,{size:"medium",color:"primary",variant:"contained",onClick:function(){return n(t.id)},children:"Add to cart"})})]})})},ue=function(e){var t=e.products,n=e.handleAddToCart;return t.length?Object(G.jsx)(ae,{children:t.map((function(e){return Object(G.jsx)(je,{product:e,handleAddToCart:n},e.id)}))}):Object(G.jsx)(ce,{children:Object(G.jsx)(V.a,{size:80})})},be=n(124),xe=n(306),pe=n(33),Oe=n(128),fe=n(23),ge=n(129),ye=Object(R.a)({root:{display:"flex",flexDirection:"column-reverse",alignItems:"center"},"@media (min-width: 750px)":{root:{flexDirection:"row",justifyContent:"space-evenly",alignItems:"start"}}})(S.a),ve=F.a.form(h||(h=Object(B.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  padding: 20px;\n\n  @media (min-width: 750px) {\n    align-items: start;\n  }\n\n  @media (min-width: 1100px) {\n    gap: 15px;\n  }\n"]))),we=Object(R.a)({root:{width:"80%","&:first-child":{margin:"20px 0"}},"@media (min-width: 750px)":{root:{marginTop:20,width:"45%"}},"@media (min-width: 1000px)":{root:{width:"40%"}},"@media (min-width: 1200px)":{root:{width:"35%"}}})(ge.a),Ce=F.a.div(j||(j=Object(B.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 10px 0;\n\n  @media (min-width: 500px) {\n    flex-direction: row;\n  }\n  @media (min-width: 750px) {\n    flex-direction: column;\n  }\n  @media (min-width: 900px) {\n    flex-direction: row;\n  }\n"]))),ke=Object(F.a)(Y.a)(u||(u=Object(B.a)(["\n  @media (min-width: 500px) {\n    margin-left: auto !important;\n  }\n  @media (min-width: 750px) {\n    margin-left: 0 !important;\n  }\n  @media (min-width: 900px) {\n    margin-left: auto !important;\n  }\n"]))),_e=F.a.img(b||(b=Object(B.a)(["\n  width: 60px;\n  height: 60px;\n  margin-right: 15px;\n"]))),qe=(new Date).getFullYear(),Te=fe.b().shape({firstName:fe.c().required(),lastName:fe.c().required(),email:fe.c().email().required(),fullName:fe.c().required(),streetAddress:fe.c().required(),city:fe.c().required(),zipCode:fe.c().required().matches(/(\d\d-\d\d\d)/).max(6),country:fe.c().required(),creditCardNumber:fe.c().required().matches(/^(([\d]{16})|(([\d]{4})+\s?){4})$/).max(19),expiryMonth:fe.a().required().integer().min(1).max(12),expiryYear:fe.a().required().integer().min(qe).max(qe+2),ccv:fe.c().required().matches(/(\d\d\d)/).max(3)}),Se=[{name:"firstName",placeholder:"First Name"},{name:"lastName",placeholder:"Last Name"},{name:"email",placeholder:"Email"}],Ee=[{name:"fullName",placeholder:"Full Name"},{name:"streetAddress",placeholder:"Street Address"},{name:"city",placeholder:"City"},{name:"zipCode",placeholder:"ZIP Code"},{name:"country",placeholder:"Country"}],Ne=[{name:"creditCardNumber",placeholder:"Credit Card Number"},{name:"expiryMonth",placeholder:"Expiry Month"},{name:"expiryYear",placeholder:"Expiry Year"},{name:"ccv",placeholder:"CCV"}],Ae=function(e){var t=e.checkoutToken,n=Object(pe.e)({resolver:Object(Oe.a)(Te)}),r=n.control,a=n.handleSubmit,c=n.formState.errors,i=Object(_.g)(),o=function(e){return e.map((function(e){return Object(G.jsxs)("div",{children:[Object(G.jsx)(pe.a,{name:e.name,control:r,defaultValue:"",render:function(t){var n=t.field;return Object(G.jsx)(xe.a,Object(be.a)({placeholder:e.placeholder},n))}}),c[e.name]&&Object(G.jsxs)(Y.a,{variant:"body2",color:"secondary",children:["Require ",e.placeholder]})]},e.name)}))};return Object(G.jsx)(we,{elevation:3,children:Object(G.jsxs)(ve,{onSubmit:a((function(){var e="/checkout/token=".concat(t.id);i.push(e)})),children:[Object(G.jsx)(Y.a,{variant:"h6",color:"primary",children:"Customer information"}),o(Se),Object(G.jsx)(Y.a,{variant:"h6",color:"primary",children:"Shipping details"}),o(Ee),Object(G.jsx)(Y.a,{variant:"h6",color:"primary",children:"Payment information"}),o(Ne),Object(G.jsx)(ee.a,{variant:"contained",color:"primary",type:"submit",children:"Confirm Order"})]})})},ze=function(e){var t=e.cart;return Object(G.jsx)(we,{elevation:3,children:Object(G.jsx)(H.a,{children:Object(G.jsxs)(K.a,{children:[Object(G.jsx)(Y.a,{color:"primary",variant:"h5",gutterBottom:!0,children:"Order Summary"}),t.line_items.map((function(e){return Object(G.jsxs)(Ce,{children:[Object(G.jsx)(_e,{src:e.media.source,alt:e.name}),Object(G.jsxs)(Y.a,{variant:"subtitle1",children:[e.quantity," x ",e.name]}),Object(G.jsx)(ke,{variant:"subtitle1",children:e.line_total.formatted_with_symbol})]},e.id)})),Object(G.jsxs)(Y.a,{variant:"h6",children:["Subtotal: ",t.subtotal.formatted_with_symbol]})]})})})},Be=function(e){var t=e.cart,n=Object(p.useState)({}),r=Object(C.a)(n,2),a=r[0],c=r[1];return Object(p.useEffect)((function(){t.line_items&&t.line_items.length&&T.checkout.generateToken(t.id,{type:"cart"}).then((function(e){c(e)})).catch((function(e){console.log("There was an error in generating a token",e)}))}),[]),t.line_items||0!==Object.keys(a).length||a.constructor!==Object?Object(G.jsxs)(ye,{children:[Object(G.jsx)(Ae,{checkoutToken:a}),Object(G.jsx)(ze,{cart:t})]}):Object(G.jsx)(_.a,{to:{pathname:"/"}})},Fe=F.a.div(x||(x=Object(B.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.25);\n"]))),Re=Object(re.a)({root:{color:"#18A558",textAlign:"center"},"@media (max-width: 599px)":{root:{fontSize:"50px",width:"80%"}}})(Y.a),Ie=Object(re.a)({root:{backgroundColor:"#18A558",color:"#fff","&:hover":{backgroundColor:"#4caf50"}}})(ee.a),Qe=function(e){var t=e.handleEmptyCart,n=Object(_.g)();return Object(G.jsxs)(Fe,{children:[Object(G.jsx)(Re,{variant:"h2",gutterBottom:!0,children:"Payment accepted"}),Object(G.jsx)(Ie,{variant:"contained",onClick:function(){t(),setTimeout((function(){n.push("/")}),1e3)},children:"Back to shop"})]})},Ye=function(){var e=Object(p.useState)([]),t=Object(C.a)(e,2),n=t[0],r=t[1],a=Object(p.useState)([]),c=Object(C.a)(a,2),i=c[0],o=c[1],d=function(){var e=Object(w.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.products.list();case 2:t=e.sent,n=t.data,r(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(w.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,T.cart.retrieve();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(p.useEffect)((function(){d(),l()}),[]);var s=function(){T.cart.empty().then((function(e){o(e.cart)})).catch((function(e){console.error("There was an error emptying the cart",e)}))};return Object(G.jsxs)(k.a,{children:[Object(G.jsx)(J,{cartQnt:i.total_items}),Object(G.jsxs)(_.d,{children:[Object(G.jsx)(_.b,{path:"/",exact:!0,children:Object(G.jsx)(ue,{products:n,handleAddToCart:function(e){T.cart.add(e,1).then((function(e){o(e.cart)})).catch((function(e){console.error("There was an error adding the item to the cart",e)}))}})}),Object(G.jsx)(_.b,{path:"/cart",children:Object(G.jsx)(le,{cart:i,handleUpdateCartQty:function(e,t){T.cart.update(e,{quantity:t}).then((function(e){o(e.cart)})).catch((function(e){console.log("There was an error updating the cart items",e)}))},handleRemoveFromCart:function(e){T.cart.remove(e).then((function(e){o(e.cart)})).catch((function(e){console.error("There was an error removing the item from the cart",e)}))},handleEmptyCart:s})}),Object(G.jsx)(_.b,{path:"/checkout",exact:!0,children:Object(G.jsx)(Be,{cart:i})}),Object(G.jsxs)(_.b,{path:"/checkout",children:[Object(G.jsx)(Be,{cart:i}),Object(G.jsx)(Qe,{handleEmptyCart:s})]})]})]})};n(274);g.a.render(Object(G.jsx)(O.a.StrictMode,{children:Object(G.jsx)(Ye,{})}),document.getElementById("root"))}},[[275,1,2]]]);
//# sourceMappingURL=main.816302e6.chunk.js.map